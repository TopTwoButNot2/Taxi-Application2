@model TaxiApplication.Data.TaxiDriver
@using TaxiApplication.BusinessLogics


@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Owner.cshtml";
    TaxiLogics tx = new TaxiLogics();
    DriverLogics dr = new DriverLogics();
    var message = TempData["AlertMessage"] ?? string.Empty;

}
<script>
    var msg = '@message';
    if (msg)
        alert(msg);
</script>

<h2>Create</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

<div class="form-horizontal modal-content" style="margin-top:2%;width:45%;padding-left:30px;padding-right:30px;margin-bottom:50px">
    <h4>TaxiDriver</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <label>Select Driver</label>
    <select name="driverID">
        @{

            foreach (var x in dr.GetDrivers(User.Identity.Name))
            {
                <option value="@x.driverID"> @x.FirstName</option>
            }
        }
    </select>

    <label>Select Taxi</label>
    <select name="TaxiNo">
        @{

            foreach (var x in tx.GetTaxis(User.Identity.Name))
            {
                <option value="@x.TaxiNo"> @x.TaxiNo</option>
            }
        }
    </select>
    <span class="w3-left">
        <a class="w3-button" type="submit" style="margin-top:5px;background-color:#f0ad4e;color:white" href="~/TaxiDrivers/Index"> Back </a>
    </span>

    <span class="w3-right">
        <button class="w3-button" type="submit" style="margin-top:5px;background-color:#f0ad4e;color:white"> Save </button>
    </span>
    <br />
    <br />
</div>
}

